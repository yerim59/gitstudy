DROP TABLE NOTICE;
DROP TABLE REVIEW;
DROP TABLE QNA;
DROP TABLE RESERVATION;
DROP TABLE GUESTROOM;
DROP TABLE MEMBER;

CREATE TABLE MEMBER 
(
    MNO NUMBER PRIMARY KEY,
    MID VARCHAR2(2000) NOT NULL UNIQUE,
    MPW VARCHAR2(2000) NOT NULL,
    MNAME VARCHAR2(2000) NOT NULL,
    MPHONE VARCHAR2(2000) NOT NULL,
    MEMAIL VARCHAR2(2000),
    MBIRTH VARCHAR2(2000),
    MADDR VARCHAR2(2000),
    MROAD VARCHAR2(2000),
    MREGDATE DATE,
    MGRADE NUMBER,
    MPOINT NUMBER,
    MISWITHDRAWAL NUMBER,
    MRIGHT NUMBER
);

CREATE TABLE GUESTROOM
(
    GNO NUMBER PRIMARY KEY,
    GNAME VARCHAR2(2000),
    GPRICE NUMBER,
    GPEOPLE NUMBER,
    GEXPLAIN VARCHAR2(2000),
    GThumbnail VARCHAR2(2000),
    GIMGCOUNT NUMBER
);

CREATE TABLE RESERVATION
(
    RNO NUMBER PRIMARY KEY,
    GNO NUMBER REFERENCES GUESTROOM (GNO),
    MNO NUMBER REFERENCES MEMBER (MNO),
    RCHECKIN DATE,
    RCHECKOUT DATE
);

CREATE TABLE QNA
(
    QNO NUMBER PRIMARY KEY,
    QTITLE VARCHAR2(2000),
    QCONTENT VARCHAR2(2000),
    MNO NUMBER REFERENCES MEMBER (MNO),
    QPW VARCHAR2(2000),
    QREF NUMBER,
    QSTEP NUMBER,
    QDEPTH NUMBER,
   	QISDELETE NUMBER, 
    QNOTICEDATE DATE
);

CREATE TABLE REVIEW
(
    RNO NUMBER PRIMARY KEY,
    RTITLE VARCHAR2(2000),
    RCONTENT VARCHAR2(2000),
    MNO NUMBER REFERENCES MEMBER (MNO),
    RREF NUMBER,
    RSTEP NUMBER,
    RDEPTH NUMBER,
    RIMG VARCHAR2(2000),
    RISDELETE NUMBER,
    RNOTICEDATE DATE
);

CREATE TABLE NOTICE
(
    NNO NUMBER PRIMARY KEY,
    NTITLE VARCHAR2(2000),
    NCONTENT VARCHAR2(2000),
    NIMG VARCHAR2(2000),
    NNOTICEDATE DATE
);

DROP SEQUENCE MEMBER_SEQ;
CREATE SEQUENCE MEMBER_SEQ;

INSERT INTO MEMBER (MNO, MID, MPW, MNAME, MPHONE, MEMAIL, MBIRTH, MADDR, MROAD, MREGDATE, MGRADE, MPOINT, MISWITHDRAWAL, MRIGHT)
VALUES (MEMBER_SEQ.NEXTVAL, 'admin','1111','관리자','010-1111-1111','admin@com.com','1996/02/16','','',SYSDATE,0,0,0,1);

COMMIT